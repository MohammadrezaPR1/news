# راهنمای حل مشکل ارور ENOTFOUND (مهم)

اروری که دریافت کردید (`ENOTFOUND`) به این دلیل است که دیتابیس Supabase در حالت پیش‌فرض فقط با پروتکل جدید (IPv6) کار می‌کند و اینترنت یا سیستم شما فعلاً با آن سازگار نیست.

برای حل این مشکل، دقیقاً مراحل زیر را انجام دهید تا از **اتصال IPv4 (Pooler)** استفاده کنید:

---

## ۱. اصلاح آدرس در سایت Supabase
۱. وارد پنل پروژه خود در Supabase شوید.
۲. از منوی سمت چپ به بخش **Settings** (چرخ‌دنده) و سپس **Database** بروید.
۳. صفحه را پایین بکشید تا به بخش **Connection string** برسید.
۴. در اینجا، یک باکس انتخاب وجود دارد که احتمالاً روی **Direct connection** است. آن را تغییر دهید و گزینه **Transaction pooler** را انتخاب کنید.
۵. همچنین مطمئن شوید گزینه **Mode** روی حالت **Transaction** (پورت ۶۵۴۳) باشد.
۶. حالا آدرس جدید را کپی کنید. آدرس جدید باید شبیه به این باشد (دقت کنید که شامل کلمه `pooler` باشد):
   `postgres://postgres.[YOUR-ID]:[PASSWORD]@aws-0-eu-central-1.pooler.supabase.com:6543/postgres`

---

## ۲. جایگذاری در فایل .env
۱. به فایل `backend/.env` بروید.
۲. آدرس قبلی را پاک کنید و این آدرس جدید (مرحله ۱.۶) را قرار دهید.
۳. فراموش نکنید که بخش `[PASSWORD]` را با پسورد دیتابیس خودتان جایگزین کنید.
۴. فایل را ذخیره کنید.

---

## ۳. اجرای مجدد
حالا دوباره در ترمینال دستور `npm start` را بزنید. مشکل حل خواهد شد و پیام `Database connected !` را خواهید دید.

> [!TIP]
> **نکته فنی**: استفاده از Transaction Pooler برای Netlify هم ضروری است، چون سیستم‌های Serverless تعداد زیادی اتصال به دیتابیس باز می‌کنند و Pooler از کرش کردن دیتابیس جلوگیری می‌کند.
